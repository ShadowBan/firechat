"use strict";function updateSidebar(){var a=document.documentElement.clientHeight,b=jQuery("nav.navbar").height();jQuery("div#flow > div").css({"min-height":a-b-2})}angular.module("firechatApp",["ngCookies","ngResource","ngSanitize","ngRoute","firebase","ui.router"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("home",{url:"/",templateUrl:"views/main.html",controller:"MainCtrl"}).state("chat",{url:"/chat/:roomId",templateUrl:"views/chat.html",controller:"ChatCtrl"})}]),angular.module("firechatApp").controller("MainCtrl",["$scope",function(a){function b(a){for(var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;a>d;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b}a.addChat=function(){-1==jQuery.inArray(a.newRoom,a.rooms)&&a.rooms.push(a.newRoom),window.location="#/chat/"+a.newRoom,a.newRoom=b(10)},a.newRoom=b(10),a.rooms=[]}]),angular.module("firechatApp").controller("ChatCtrl",["$scope","$firebase","$routeParams","$stateParams",function(a,b,c,d){updateSidebar();var e="https://vivid-fire-2288.firebaseio.com/"+d.roomId+"/chat",f=new Firebase(e);a.messages=b(f.limit(15)),a.username="Guest"+Math.floor(101*Math.random()),a.addMessage=function(){a.messages.$add({from:a.username,content:a.message}),a.message=""}}]),angular.module("firechatApp").directive("ckHeader",function(){return{templateUrl:"views/shared/header.html",restrict:"E",controller:"MainCtrl",link:function(){}}}),$(window).load(function(){updateSidebar()}).resize(function(){updateSidebar()});